<div class="content-page">
    <div class="content">
        
        <!-- start page title -->
        <div class="row">
            <div class="col-12">
                <div class="page-title-box">
                    <div class="page-title-right">
                        <ol class="breadcrumb m-0">
                            <li   routerLink="/home" class="breadcrumb-item"><a   routerLink="/home" >Dashboard</a></li>
                            <li  routerLink="/home/listtasks" class="breadcrumb-item" *ngIf="isAdmin()"><a routerLink="/home/listtasks">Missions</a></li>
                            <li class="breadcrumb-item active"> Client Requests</li>
                        </ol>
                    </div>
                    <!-- <h4 class="page-title">Demandes Clients  </h4> -->
                
             </div>
            </div>
        </div>     
        <!-- end page title --> 

        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body pb-0">
                        
                        <div class="d-flex justify-content-between align-items-center">
                            <h4 class="header-title">Mission closure requests  </h4>
                        
                        </div>
                
                        <div class="alert alert-warning mt-2" role="alert" *ngIf="isAdmin()">
                            <i class="uil-files-landscapes me-1 h4 align-middle"></i> <b>{{totalcloture}}</b> Total Closing Requests
                        </div>
                        <div class="alert alert-warning mt-2" role="alert" *ngIf="isClient()">
                            <i class="uil-files-landscapes me-1 h4 align-middle"></i> <b>{{totalclotureByClient}}</b> Total Closing Requests
                        </div>
                        
                    </div>
                
                    <div  *ngIf="isAdmin()">
                    <div  class="card-body py-0" data-simplebar="init" style="max-height: 315px;" *ngFor="let demande of listDemandeCloure">
                        <div class="simplebar-wrapper" style="margin: 0px -24px;">
                            <div class="simplebar-height-auto-observer-wrapper">
                        <div class="simplebar-height-auto-observer">
                
                        </div></div><div class="simplebar-mask">
                            <div class="simplebar-offset" style="right: 0px; bottom: 0px;"><div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="scrollable content" style="height: auto; overflow: hidden scroll;"><div class="simplebar-content" style="padding: 0px 24px;">
                        <div class="d-flex align-items-center">
                            <div class="flex-shrink-0">
                                <div class="avatar-sm rounded-circle h3 my-0">
                                   
                                        <img src="http://localhost:8082/users/files/{{demande.tache.ing.image}}" alt="image" class="avatar-xs rounded-circle me-1" data-bs-container="#tooltip-container" data-bs-toggle="tooltip" data-bs-placement="bottom" title="" data-bs-original-title="Assigned to Arya S" aria-label="Assigned to Arya S">
                                   
                                </div>
                            </div>
                            <div class="flex-grow-1 ms-2">
                                <h4 class="mt-0 mb-1 font-16 fw-semibold">{{demande.tache.nom}}</h4>
                                <p class="mb-0 text-muted">{{demande.tache.description}}</p>
                            </div>
                            <i class="icon wb-check" aria-hidden="true"></i>
                               
                                <p class="mb-0 text-success">
                                    <button type="button" class="btn btn-success rounded-pill" (click)="accepterDemandeCloture(demande.id,demande.tache.id)"  >
                                        <i _ngcontent-agx-c68="" class="mdi mdi-check-bold me-1" ></i>Accept</button>
                                      
                                    </p>
                        </div>
                
                        <hr class="opacity-50 bg-secondary-lighten">
                
                        
                
                    </div></div></div></div><div class="simplebar-placeholder" style="width: auto; height: 453px;"></div></div><div class="simplebar-track simplebar-horizontal" style="visibility: hidden;"><div class="simplebar-scrollbar" style="width: 0px; display: none;"></div></div><div class="simplebar-track simplebar-vertical" style="visibility: visible;"><div class="simplebar-scrollbar" style="height: 219px; transform: translate3d(0px, 0px, 0px); display: block;"></div></div>
                    </div>
                     </div>
            <div  *ngIf="isClient()">
                <div  class="card-body py-0" data-simplebar="init" style="max-height: 315px;" *ngFor="let demande of listDemandeCloureClient">
                    <div class="simplebar-wrapper" style="margin: 0px -24px;">
                        <div class="simplebar-height-auto-observer-wrapper">
                    <div class="simplebar-height-auto-observer">
            
                    </div></div><div class="simplebar-mask">
                        <div class="simplebar-offset" style="right: 0px; bottom: 0px;"><div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="scrollable content" style="height: auto; overflow: hidden scroll;"><div class="simplebar-content" style="padding: 0px 24px;">
                    <div class="d-flex align-items-center">
                        <div class="flex-shrink-0">
                            <div class="avatar-sm rounded-circle h3 my-0">
                               
                                    <img src="http://localhost:8082/users/files/{{demande.tache.ing.image}}" alt="image" class="avatar-xs rounded-circle me-1" data-bs-container="#tooltip-container" data-bs-toggle="tooltip" data-bs-placement="bottom" title="" data-bs-original-title="Assigned to Arya S" aria-label="Assigned to Arya S">
                               
                            </div>
                        </div>
                        <div class="flex-grow-1 ms-2">
                            <h4 class="mt-0 mb-1 font-16 fw-semibold">{{demande.tache.nom}}</h4>
                            <p class="mb-0 text-muted">{{demande.tache.description}}</p>
                        </div>
                        <i class="icon wb-check" aria-hidden="true"></i>
                           
                            <p class="mb-0 text-success">
                                <button type="button" class="btn btn-success rounded-pill" (click)="accepterDemandeCloture(demande.id,demande.tache.id)"  *ngIf="demande.tache.ok=='0'" >
                                    <i _ngcontent-agx-c68="" class="mdi mdi-check-bold me-1" ></i>Accept</button>
                                    
                                </p>
                    </div>
            
                    <hr class="opacity-50 bg-secondary-lighten">
            
                    
            
                </div></div></div></div><div class="simplebar-placeholder" style="width: auto; height: 453px;"></div></div><div class="simplebar-track simplebar-horizontal" style="visibility: hidden;"><div class="simplebar-scrollbar" style="width: 0px; display: none;"></div></div><div class="simplebar-track simplebar-vertical" style="visibility: visible;"><div class="simplebar-scrollbar" style="height: 219px; transform: translate3d(0px, 0px, 0px); display: block;"></div></div>
            </div>
            </div>
                </div>
                </div>
                </div>

    </div>
    </div>
